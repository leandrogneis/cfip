/*C1*/SET SCHEMA SYSTEM_LOBS
INSERT INTO BLOCKS VALUES(0,2147483647,0)
COMMIT
/*C2*/SET SCHEMA PUBLIC
DISCONNECT
/*C3*/SET SCHEMA PUBLIC
create table Conta (id integer generated by default as identity (start with 1), excluido boolean not null, nome varchar(50) not null, saldo double not null, sigla varchar(20) not null, usuario_id integer not null, primary key (id))
create table Contato (id integer generated by default as identity (start with 1), cpf_cnpj varchar(20), excluido boolean not null, nome varchar(50), telefone varchar(50), usuario integer, primary key (id))
create table Fatura (id integer generated by default as identity (start with 1), detalhe varchar(100) not null, excluido boolean not null, fechada boolean not null, sigla varchar(20) not null, usuario integer not null, vencimento timestamp not null, primary key (id))
create table Lancamento (id integer generated by default as identity (start with 1), atualizacao_aliq double not null, atualizacao_valor double not null, conta_id integer not null, contato_id integer, data date not null, desconto_aliq double not null, desconto_valor double not null, descricao varchar(500) not null, destino_id integer, excluido boolean not null, fatura integer, juros_aliq double not null, juros_valor double not null, multa_aliq double not null, multa_valor double not null, natureza_id integer not null, origem_credito_id integer, origem_lancto_id integer, parcelas integer, periodo integer not null, periodo_quitacao integer, previsao boolean not null, quitacao date, saldo_final double not null, saldo_inicial double not null, tipo_mov_id varchar(30) not null, transferencia boolean not null, usuario_id integer not null, valor double not null, valor_principal double not null, primary key (id))
create table Natureza (id integer generated by default as identity (start with 1), categoria_id varchar(50), descricao varchar(50) not null, excluido boolean not null, nome varchar(50) not null, tipo_mov_id varchar(30) not null, usuario_id integer, primary key (id))
create table Saldo (id integer generated by default as identity (start with 1), data date not null, valor double not null, conta_id integer not null, primary key (id))
create table Usuario (id integer generated by default as identity (start with 1), cpf_cnpj varchar(20), email varchar(80) not null, excluido boolean not null, login varchar(80) not null, nome varchar(50) not null, senha varchar(50) not null, telefone varchar(20), primary key (id))
create table despesa_rapida (id integer generated by default as identity (start with 1), excluido boolean not null, ordem integer not null, usuario_id integer not null, valor double not null, conta_id integer not null, natureza_id integer not null, primary key (id))
alter table Saldo add constraint FK_c9t3mx4qu748vdivt72qvibvd foreign key (conta_id) references Conta
alter table despesa_rapida add constraint FK_48ygfoefc0rcvh7cgrtnxyn9e foreign key (conta_id) references Conta
alter table despesa_rapida add constraint FK_i6lxpjkefhdwpue3ddcntn3vg foreign key (natureza_id) references Natureza
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
INSERT INTO CONTA VALUES(1,FALSE,'SALARIO',0.0E0,'SAL',1)
COMMIT
DISCONNECT
